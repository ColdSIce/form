<div class="container">
  <h1>Book form:</h1>
  <form #bookForm="ngForm">
    <div class="form-group">

      <label for="title">Title</label>

      <input type="text" 
      class="form-control" 
      id="title" 
      required 
      minlength="1"
      maxlength="30"
      [(ngModel)]="model.title" 
      name="title"
      #title="ngModel">

      <div *ngIf="title.errors && (title.dirty || title.touched)" class="alert alert-danger">
        <div [hidden]="!title.errors.required">
          Book title is required!
        </div>
        <div [hidden]="!title.errors.minlength">
          Title must be at least 1 character long.
        </div>
        <div [hidden]="!title.errors.maxlength">
          Title cannot be more than 30 characters long.
        </div>
      </div>

    </div>
    <div class="form-group">

      <label for="author">Author</label>

      <input type="text" 
      class="form-control" 
      id="author" 
      required 
      [(ngModel)]="model.author" 
      name="author"
      #author="ngModel"
      minlength="5"
      maxlength="30">

      <div *ngIf="author.errors && (author.dirty || author.touched)" class="alert alert-danger">
        <div [hidden]="!author.errors.required">
          Book author is required!
        </div>
        <div [hidden]="!author.errors.minlength">
          Title must be at least 6 character long.
        </div>
        <div [hidden]="!author.errors.maxlength">
          Title cannot be more than 30 characters long.
        </div>
      </div>

    </div>
    <div class="form-group">

      <label for="url">URL</label>

      <input type="text" 
      class="form-control" 
      id="url" 
      pattern="https?://.+"
      [(ngModel)]="model.url" 
      name="url"
      #url="ngModel">

      <div *ngIf="url.errors && (url.dirty || url.touched)" class="alert alert-danger">
        <div [hidden]="!url.errors.pattern">
          Must be a valid URL!
        </div>
      </div>

    </div>
    <button 
    class="btn btn-default"
    [disabled]="!bookForm.valid">Submit</button>
  </form>

  <div>
    <h2>Model:</h2>
    {{ currentBook }}
  </div>

</div>
